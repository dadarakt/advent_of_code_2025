import day_4

const test_input = "..@@.@@@@.
@@@.@.@.@@
@@@@@.@.@@
@.@@@@..@.
@@.@@@@.@@
.@@@@@@@.@
.@.@.@.@@@
@.@@@.@@@@
.@@@@@@@@.
@.@.@@@.@."

pub fn parsing_test() {
  let expected = [
    [0, 0, 1, 1, 0, 1, 1, 1, 1, 0],
    [1, 1, 1, 0, 1, 0, 1, 0, 1, 1],
    [1, 1, 1, 1, 1, 0, 1, 0, 1, 1],
    [1, 0, 1, 1, 1, 1, 0, 0, 1, 0],
    [1, 1, 0, 1, 1, 1, 1, 0, 1, 1],
    [0, 1, 1, 1, 1, 1, 1, 1, 0, 1],
    [0, 1, 0, 1, 0, 1, 0, 1, 1, 1],
    [1, 0, 1, 1, 1, 0, 1, 1, 1, 1],
    [0, 1, 1, 1, 1, 1, 1, 1, 1, 0],
    [1, 0, 1, 0, 1, 1, 1, 0, 1, 0],
  ]
  assert expected == day_4.parse_rolls(test_input)
}

pub fn sub_matrix_test() {
  let matrix = [
    ["a_0", "a_1", "a_2", "a_3"],
    ["b_0", "b_1", "b_2", "b_3"],
    ["c_0", "c_1", "c_2", "c_3"],
    ["d_0", "d_1", "d_2", "d_3"],
  ]

  assert [["a_0", "a_1", "a_2", "a_3"]]
    == day_4.sub_matrix(matrix, #(0, 0), #(0, 3))
  assert [["d_0", "d_1", "d_2", "d_3"]]
    == day_4.sub_matrix(matrix, #(3, 3), #(0, 3))
  assert [["a_0"], ["b_0"], ["c_0"], ["d_0"]]
    == day_4.sub_matrix(matrix, #(0, 3), #(0, 0))
  assert [["a_3"], ["b_3"], ["c_3"], ["d_3"]]
    == day_4.sub_matrix(matrix, #(0, 3), #(3, 3))
  assert [["b_1", "b_2"], ["c_1", "c_2"]]
    == day_4.sub_matrix(matrix, #(1, 2), #(1, 2))
}
